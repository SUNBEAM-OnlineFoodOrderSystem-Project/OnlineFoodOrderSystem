package com.foodapp.model;


import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "order_items")
@Data
@NoArgsConstructor
@AllArgsConstructor

public class OrderItems {

	

	    @Id
	    @GeneratedValue(strategy = GenerationType.IDENTITY)
	    private Integer id;
	    
	    @ManyToOne
	    @JoinColumn(name = "order_id") // FK column name
	    private Order order;

	  //  @Column(name = "order_id", nullable = false)
	    private Integer orderId;

	    @Column(name = "menu_id", nullable = false)
	    private Integer menuId;

	    private Float price;

	    private Integer quantity;

	    @Column(name = "total_amount")
	    private Float totalAmount;

	    @Column(name = "product_name", length = 150)
	    private String productName;

	   
	    
	    
	    
	    @Column(name = "created_at", updatable = false)
	    private LocalDateTime createdAt;

	    @Column(name = "updated_at")
	    private LocalDateTime updatedAt;

	    @PrePersist
	    protected void onCreate() {
	        this.createdAt = LocalDateTime.now();
	        this.updatedAt = LocalDateTime.now();
	    }

	    @PreUpdate
	    protected void onUpdate() {
	        this.updatedAt = LocalDateTime.now();
	    }
	}

	
	
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

